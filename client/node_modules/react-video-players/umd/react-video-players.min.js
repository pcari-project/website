!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@vimeo/player"),require("youtube-player")):"function"==typeof define&&define.amd?define(["exports","react","@vimeo/player","youtube-player"],t):t(e["react-video-players"]={},e.React,e.Player,e.Player)}(this,function(e,t,n,o){"use strict";function r(e){return function(){return e}}function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e=R({},e),t.forEach(function(t){e.hasOwnProperty(t)&&delete e[t]}),e}var s="default"in t?t.default:t;n=n&&n.hasOwnProperty("default")?n.default:n,o=o&&o.hasOwnProperty("default")?o.default:o;var p=function(){};p.thatReturns=r,p.thatReturnsFalse=r(!1),p.thatReturnsTrue=r(!0),p.thatReturnsNull=r(null),p.thatReturnsThis=function(){return this},p.thatReturnsArgument=function(e){return e};var l=p,u=function(e){};"production"!==process.env.NODE_ENV&&(u=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")});var c=function(e,t,n,o,r,a,i,s){if(u(t),!e){var p;if(void 0===t)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,o,r,a,i,s],c=0;(p=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw p.framesToPop=1,p}},d=l;if("production"!==process.env.NODE_ENV){var f=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=0,a="Warning: "+e.replace(/%s/g,function(){return n[r++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(e){}};d=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];f.apply(void 0,[t].concat(o))}}}var y=d,h=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,g=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,r=a(e),i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var s in n)m.call(n,s)&&(r[s]=n[s]);if(h){o=h(n);for(var p=0;p<o.length;p++)v.call(n,o[p])&&(r[o[p]]=n[o[p]])}}return r},b="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";if("production"!==process.env.NODE_ENV)var P=c,E=y,C=b,T={};var w=function(e,t,n,o,r){if("production"!==process.env.NODE_ENV)for(var a in e)if(e.hasOwnProperty(a)){var i;try{P("function"==typeof e[a],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",o||"React class",n,a,typeof e[a]),i=e[a](t,a,o,n,null,C)}catch(e){i=e}if(E(!i||i instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",o||"React class",n,a,typeof i),i instanceof Error&&!(i.message in T)){T[i.message]=!0;var s=r?r():"";E(!1,"Failed %s type: %s%s",n,i.message,null!=s?s:"")}}},O=function(e,t){function n(e){var t=e&&(m&&e[m]||e[v]);if("function"==typeof t)return t}function o(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function r(e){this.message=e,this.stack=""}function a(e){function n(n,i,s,p,l,u,d){if(p=p||P,u=u||s,d!==b)if(t)c(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var f=p+":"+s;!o[f]&&a<3&&(y(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",u,p),o[f]=!0,a++)}return null==i[s]?n?new r(null===i[s]?"The "+l+" `"+u+"` is marked as required in `"+p+"`, but its value is `null`.":"The "+l+" `"+u+"` is marked as required in `"+p+"`, but its value is `undefined`."):null:e(i,s,p,l,u)}if("production"!==process.env.NODE_ENV)var o={},a=0;var i=n.bind(null,!1);return i.isRequired=n.bind(null,!0),i}function i(e){return a(function(t,n,o,a,i,s){var p=t[n];return u(p)!==e?new r("Invalid "+a+" `"+i+"` of type `"+d(p)+"` supplied to `"+o+"`, expected `"+e+"`."):null})}function s(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(s);if(null===t||e(t))return!0;var o=n(t);if(!o)return!1;var r,a=o.call(t);if(o!==t.entries){for(;!(r=a.next()).done;)if(!s(r.value))return!1}else for(;!(r=a.next()).done;){var i=r.value;if(i&&!s(i[1]))return!1}return!0;default:return!1}}function p(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function u(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":p(t,e)?"symbol":t}function d(e){if(void 0===e||null===e)return""+e;var t=u(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function f(e){var t=d(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function h(e){return e.constructor&&e.constructor.name?e.constructor.name:P}var m="function"==typeof Symbol&&Symbol.iterator,v="@@iterator",P="<<anonymous>>",E={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),symbol:i("symbol"),any:a(l.thatReturnsNull),arrayOf:function(e){return a(function(t,n,o,a,i){if("function"!=typeof e)return new r("Property `"+i+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new r("Invalid "+a+" `"+i+"` of type `"+u(s)+"` supplied to `"+o+"`, expected an array.");for(var p=0;p<s.length;p++){var l=e(s,p,o,a,i+"["+p+"]",b);if(l instanceof Error)return l}return null})},element:function(){return a(function(t,n,o,a,i){var s=t[n];return e(s)?null:new r("Invalid "+a+" `"+i+"` of type `"+u(s)+"` supplied to `"+o+"`, expected a single ReactElement.")})}(),instanceOf:function(e){return a(function(t,n,o,a,i){if(!(t[n]instanceof e)){var s=e.name||P;return new r("Invalid "+a+" `"+i+"` of type `"+h(t[n])+"` supplied to `"+o+"`, expected instance of `"+s+"`.")}return null})},node:function(){return a(function(e,t,n,o,a){return s(e[t])?null:new r("Invalid "+o+" `"+a+"` supplied to `"+n+"`, expected a ReactNode.")})}(),objectOf:function(e){return a(function(t,n,o,a,i){if("function"!=typeof e)return new r("Property `"+i+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var s=t[n],p=u(s);if("object"!==p)return new r("Invalid "+a+" `"+i+"` of type `"+p+"` supplied to `"+o+"`, expected an object.");for(var l in s)if(s.hasOwnProperty(l)){var c=e(s,l,o,a,i+"."+l,b);if(c instanceof Error)return c}return null})},oneOf:function(e){return Array.isArray(e)?a(function(t,n,a,i,s){for(var p=t[n],l=0;l<e.length;l++)if(o(p,e[l]))return null;return new r("Invalid "+i+" `"+s+"` of value `"+p+"` supplied to `"+a+"`, expected one of "+JSON.stringify(e)+".")}):("production"!==process.env.NODE_ENV&&y(!1,"Invalid argument supplied to oneOf, expected an instance of array."),l.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&y(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),l.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return y(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",f(n),t),l.thatReturnsNull}return a(function(t,n,o,a,i){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,o,a,i,b))return null;return new r("Invalid "+a+" `"+i+"` supplied to `"+o+"`.")})},shape:function(e){return a(function(t,n,o,a,i){var s=t[n],p=u(s);if("object"!==p)return new r("Invalid "+a+" `"+i+"` of type `"+p+"` supplied to `"+o+"`, expected `object`.");for(var l in e){var c=e[l];if(c){var d=c(s,l,o,a,i+"."+l,b);if(d)return d}}return null})},exact:function(e){return a(function(t,n,o,a,i){var s=t[n],p=u(s);if("object"!==p)return new r("Invalid "+a+" `"+i+"` of type `"+p+"` supplied to `"+o+"`, expected `object`.");var l=g({},t[n],e);for(var c in l){var d=e[c];if(!d)return new r("Invalid "+a+" `"+i+"` key `"+c+"` supplied to `"+o+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var f=d(s,c,o,a,i+"."+c,b);if(f)return f}return null})}};return r.prototype=Error.prototype,E.checkPropTypes=w,E.PropTypes=E,E},S=function(){function e(e,t,n,o,r,a){a!==b&&c(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=l,n.PropTypes=n,n},R=(function(e,t){t={exports:{}},e(t,t.exports),t.exports}(function(e){if("production"!==process.env.NODE_ENV){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=O(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},!0)}else e.exports=S()}),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),k=(function(){function e(e){this.value=e}function t(t){function n(r,a){try{var i=t[r](a),s=i.value;s instanceof e?Promise.resolve(s.value).then(function(e){n("next",e)},function(e){n("throw",e)}):o(i.done?"return":"normal",i.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?n(r.key,r.arg):a=null}var r,a;this._invoke=function(e,t){return new Promise(function(o,i){var s={key:e,arg:t,resolve:o,reject:i,next:null};a?a=a.next=s:(r=a=s,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},j=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},x=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},U=function(e){return function(t){function n(e){k(this,n);var o=x(this,t.call(this,e));return o.onControlsPlay=o.onControlsPlay.bind(o),o.onControlsPause=o.onControlsPause.bind(o),o.onControlsSeek=o.onControlsSeek.bind(o),o.onControlsVolumeChange=o.onControlsVolumeChange.bind(o),o.onPlayerTimeUpdate=o.onPlayerTimeUpdate.bind(o),o.onPlayerVolumeChange=o.onPlayerVolumeChange.bind(o),o.state={loop:e.loop,play:e.play,seekTo:e.time,time:e.time,volume:e.volume},o}return j(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.loop,n=e.play,o=e.time,r=e.volume;this.setState({seekTo:o,loop:t,play:n,volume:r})},n.prototype.shouldComponentUpdate=function(e,t){return!0},n.prototype.onControlsPlay=function(){this.setState({play:!0})},n.prototype.onControlsPause=function(){this.setState({play:!1})},n.prototype.onControlsSeek=function(e){this.setState({time:e})},n.prototype.onControlsVolumeChange=function(e){this.setState({volume:e})},n.prototype.onPlayerTimeUpdate=function(e){this.setState({time:e}),this.props.onTimeUpdate&&this.props.onTimeUpdate(e)},n.prototype.onPlayerVolumeChange=function(e){this.setState({volume:e}),this.props.onVolumeChange&&this.props.onVolumeChange(e)},n.prototype.render=function(){var t=this.props,n=t.children,o=t.controls,r=this.state,a=r.loop,p=r.play,l=r.time,u=r.seekTo,c=r.volume,d=o?s.cloneElement(o,{loop:a,play:p,time:l,volume:c,onPause:this.onControlsPause,onPlay:this.onControlsPlay,onSeek:this.onControlsSeek,onVolumeChange:this.onControlsVolumeChange}):null,f=i(this.props,["controls","loop","play","time","volume","onTimeUpdate","onVolumeChange"]),y=i(this.state,["time"]);return s.createElement(e,V({},f,y,{time:u,onTimeUpdate:this.onPlayerTimeUpdate,onVolumeChange:this.onPlayerTimeUpdate}),d,n)},n}(t.Component)},N=["accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","capture","cellPadding","cellSpacing","challenge","charSet","checked","cite","classID","className","colSpan","cols","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","encType","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","height","hidden","high","href","hrefLang","htmlFor","httpEquiv","icon","id","inputMode","integrity","is","keyParams","keyType","kind","label","lang","list","loop","low","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","nonce","open","optimum","pattern","placeholder","poster","preload","profile","radioGroup","readOnly","rel","required","reversed","role","rowSpan","rows","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","spellCheck","src","srcDoc","srcLang","srcSet","start","step","style","summary","tabIndex","target","title","type","useMap","value","width","wmode","wrap"],L=["about","datatype","inlist","prefix","property","resource","typeof","vocab"],D=["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onLoad","onError","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"],I=/data-([a-zA-Z0-9\-]*)/,A=/aria-([a-zA-Z0-9\-]*)/,_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e),o=Object.keys(n).filter(function(e){return-1===t.indexOf(e)&&(-1!==N.indexOf(e)||(-1!==L.indexOf(e)||(!!I.test(e)||(!!A.test(e)||-1!==D.indexOf(e)))))});return Object.keys(n).forEach(function(e){-1===o.indexOf(e)&&delete n[e]}),n},M=function(e){function t(n){k(this,t);var o=x(this,e.call(this,n));return o.onEnded=o.onEnded.bind(o),o.onError=o.onError.bind(o),o.onLoadedMetadata=o.onLoadedMetadata.bind(o),o.onPause=o.onPause.bind(o),o.onPlay=o.onPlay.bind(o),o.onTimeUpdate=o.onTimeUpdate.bind(o),o.onVolumeChange=o.onVolumeChange.bind(o),o}return j(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.play,n=(e.time,e.volume,e.onReady);this.player=this.refPlayer,this.player.addEventListener("ended",this.onEnded),this.player.addEventListener("error",this.onError),this.player.addEventListener("loadedmetadata",this.onLoadedMetadata),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("volumechange",this.onVolumeChange),n(),t&&this.player.play()},t.prototype.componentWillReceiveProps=function(e){var t=e.loop,n=e.play,o=e.time,r=e.src,a=e.volume;this.props.src!==r&&this.player.setAttribute("src",r),this.props.play!==n&&(n?this.player.play():this.player.pause()),this.props.loop!==t&&this.player.setAttribute("loop",t),this.props.time!==o&&this.player.setAttribute("currentTime",o),this.props.volume!==a&&this.player.setAttribute("volume",a)},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){this.player.removeEventListener("ended",this.onEnded),this.player.removeEventListener("error",this.onError),this.player.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("timeupdate",this.onTimeUpdate),this.player.removeEventListener("volumechange",this.onVolumeChange)},t.prototype.getCurrentStatus=function(){return{duration:isNaN(this.player.duration)?0:this.player.duration,percent:isNaN(this.player.duration)?0:(isNaN(this.player.currentTime)?0:this.player.currentTime)/this.player.duration,seconds:isNaN(this.player.currentTime)?0:this.player.currentTime}},t.prototype.onEnded=function(e){var t=this.props.onEnded;t(this.getCurrentStatus())},t.prototype.onError=function(e){var t=this.props.onError;t(this.player.error)},t.prototype.onLoadedMetadata=function(){var e=this.props,t=e.time,n=e.volume;this.player.currentTime=t,this.player.volume=n},t.prototype.onPause=function(e){var t=this.props.onPause;t()},t.prototype.onPlay=function(e){var t=this.props.onPlay;t(this.getCurrentStatus())},t.prototype.onTimeUpdate=function(e){var t=this.props.onTimeUpdate;t(this.getCurrentStatus())},t.prototype.onVolumeChange=function(e){var t=this.props.onVolumeChange;t({volume:e.target.volume})},t.prototype.render=function(){var e=this,t=this.props,n=t.aspectRatio,o=t.children,r=t.config,a=t.loop,i=t.src,p={};n&&(p={position:"absolute",top:0,right:0,bottom:0,left:0});var l=["height","loop","src","width","onEnded","onError","onPause","onPlay","onTimeUpdate","onVolumeChange"];return s.createElement("div",_(this.props,l),s.createElement("video",V({},r,{height:"100%",loop:a,ref:function(t){e.refPlayer=t},src:i,style:p,width:"100%"})),o)},t}(t.Component);M.defaultProps={aspectRatio:"16:9",height:"100%",loop:!1,play:!1,time:0,volume:1,width:"100%",onEnded:function(){},onError:function(){},onPause:function(){},onPlay:function(){},onReady:function(){},onTimeUpdate:function(){}};var q=function(e){function t(){return k(this,t),x(this,e.apply(this,arguments))}return j(t,e),t.prototype.render=function(){var e=this.props.aspectRatio,t={};if(e){var n=e.split(":"),o=n[0];t={position:"relative",height:0,paddingBottom:n[1]/o*100+"%"}}return s.createElement(M,V({},this.props,{style:t}))},t}(t.Component);q.defaultProps={aspectRatio:"16:9",config:{},loop:!1,play:!1,time:0,volume:1,onEnded:function(){},onError:function(){},onPause:function(){},onPlay:function(){},onReady:function(){},onTimeUpdate:function(){},onVolumeChange:function(){}};var W=U(q),F=function(e){function t(n){k(this,t);var o=x(this,e.call(this,n));return o.onPlayerReady=o.onPlayerReady.bind(o),o}return j(t,e),t.prototype.componentDidMount=function(){this.createPlayer()},t.prototype.componentWillReceiveProps=function(e){var t=e.loop,n=e.play,o=e.time,r=e.volume;this.props.play!==n&&(n?this.player.play():this.player.pause()),this.props.loop!==t&&this.player.setLoop(t),this.props.time!==o&&this.player.setCurrentTime(o),this.props.volume!==r&&this.player.setVolume(r)},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.onEnded,n=e.onPlay,o=e.onTimeUpdate,r=e.onVolumeChange;this.player.off("play",n),this.player.off("ended",t),this.player.off("timeupdate",o),this.player.off("volumechange",r)},t.prototype.createPlayer=function(){var e=this.props,t=e.config,o=e.height,r=e.videoId,a=e.videoUrl,i=e.width,s=e.onEnded,p=e.onError,l=e.onPause,u=e.onPlay,c=e.onTimeUpdate,d=e.onVolumeChange;return Object.assign(t,r?{id:r}:{},a?{url:a}:{},{height:o,width:i}),this.player=new n(this.refPlayer,t),this.player.on("ended",s),this.player.on("error",p),this.player.on("pause",l),this.player.on("play",u),this.player.on("timeupdate",c),this.player.on("volumechange",d),this.player.ready().then(this.onPlayerReady),Promise.resolve(this.player)},t.prototype.onPlayerReady=function(){var e=this.props,t=e.height,n=e.play,o=e.time,r=e.volume,a=e.width,i=e.onReady,s=this.refPlayer.querySelector("iframe");s.width=a,s.height=t,this.player.setVolume(r),n&&(this.player.play(),this.player.setCurrentTime(o)),i()},t.prototype.render=function(){var e=this,t=this.props,n=t.aspectRatio,o=t.children,r={};n&&(r={position:"absolute",top:0,right:0,bottom:0,left:0});var a=["height","loop","width","onEnded","onError","onPause","onPlay","onTimeUpdate","onVolumeChange"];return s.createElement("div",_(this.props,a),s.createElement("div",{ref:function(t){e.refPlayer=t},style:r}),o)},t}(t.Component);F.defaultProps={aspectRatio:"16:9",config:{},height:"100%",loop:!1,play:!1,time:0,volume:1,width:"100%",onEnded:function(){},onError:function(){},onPause:function(){},onPlay:function(){},onReady:function(){},onTimeUpdate:function(){},onVolumeChange:function(){}};var B=function(e){function t(){return k(this,t),x(this,e.apply(this,arguments))}return j(t,e),t.prototype.render=function(){var e=this.props.aspectRatio,t={};if(e){var n=e.split(":"),o=n[0];t={position:"relative",height:0,paddingBottom:n[1]/o*100+"%"}}return s.createElement(F,V({},this.props,{style:t}))},t}(t.Component);B.defaultProps={aspectRatio:"16:9",loop:!1,play:!1,time:0,volume:1,onEnded:function(){},onError:function(){},onPause:function(){},onPlay:function(){},onReady:function(){},onTimeUpdate:function(){},onVolumeChange:function(){}};var Y=U(B),G={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,VIDEO_CUED:5},z=function(e){function t(n){k(this,t);var o=x(this,e.call(this,n));return o.onPlayerError=o.onPlayerError.bind(o),o.onPlayerReady=o.onPlayerReady.bind(o),o.onPlayerStateChange=o.onPlayerStateChange.bind(o),o.playbackInterval=null,o}return j(t,e),t.prototype.componentDidMount=function(){this.createPlayer()},t.prototype.componentWillReceiveProps=function(e){var t=e.loop,n=e.play,o=e.time,r=e.volume;this.props.play!==n&&(n?this.player.playVideo():this.player.pauseVideo()),this.props.loop!==t&&this.player.setLoop(t),this.props.time!==o&&this.player.seekTo(o),this.props.volume!==r&&this.player.setVolume(100*r)},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){this.errorListener&&this.player.off(this.errorListener),this.readyListener&&this.player.off(this.readyListener),this.stateChangeListener&&this.player.off(this.stateChangeListener)},t.prototype.createPlayer=function(){var e=this;return new Promise(function(t,n){try{var r=e.props,a=r.config,i=r.width,s=r.height,p=r.loop,l=r.play,u=r.playlist,c=(r.time,r.videoId);Object.assign(a,{autoplay:l?1:0,loop:p?1:0,playlist:u}),e.player=o(e.refPlayer,{playerVars:a,height:s,videoId:c,width:i}),e.errorListener=e.player.on("error",e.onPlayerError),e.readyListener=e.player.on("ready",e.onPlayerReady),e.stateChangeListener=e.player.on("stateChange",e.onPlayerStateChange),t(e.player)}catch(e){n(e)}})},t.prototype.onPlayerError=function(e){var t=this.props.onError;switch(e.data){case 2:return t({code:e.data,message:"Invalid parameter"});case 5:return t({code:e.data,message:"HTML 5 error"});case 100:return t({code:e.data,message:"Video not found"});case 101:return t({code:e.data,message:"Video cannot be played in embedded players"});case 150:return t({code:e.data,message:"This error is the same as 101. It’s just a 101 error in disguise!"})}},t.prototype.onPlayerReady=function(){var e=this.props,t=e.play,n=e.time,o=e.volume,r=e.onReady;this.player.setVolume(100*o),t&&(this.player.playVideo(),this.player.seekTo(n)),r()},t.prototype.onPlayerStateChange=function(e){var t=this,n=this.props,o=n.onEnded,r=n.onPause,a=n.onPlay,i=n.onTimeUpdate,s=this.player.getDuration(),p=this.player.getCurrentTime(),l=0===s?0:p/s;switch(e.data){case G.UNSTARTED:break;case G.ENDED:clearInterval(this.playbackInterval),o({duration:s,percent:l,seconds:p});break;case G.PLAYING:a({duration:s,percent:l,seconds:p}),this.playbackInterval=setInterval(function(){var e=t.player.getDuration(),n=t.player.getCurrentTime();i({duration:e,percent:0===e?0:n/e,seconds:n})},250);break;case G.PAUSED:clearInterval(this.playbackInterval),r({duration:s,percent:l,seconds:p})}},t.prototype.render=function(){var e=this,t=this.props,n=t.children,o={};t.aspectRatio&&(o={position:"absolute",top:0,right:0,bottom:0,left:0});var r=["height","loop","width","onEnded","onError","onPause","onPlay","onTimeUpdate","onVolumeChange"];return s.createElement("div",_(this.props,r),s.createElement("div",{ref:function(t){e.refPlayer=t},style:o}),n)},t}(t.Component);z.defaultProps={aspectRatio:"16:9",config:{},height:"100%",loop:!1,play:!1,time:0,volume:1,width:"100%",onEnded:function(){},onError:function(){},onPause:function(){},onPlay:function(){},onReady:function(){},onTimeUpdate:function(){},onVolumeChange:function(){}};var K=function(e){function t(){return k(this,t),x(this,e.apply(this,arguments))}return j(t,e),t.prototype.render=function(){var e=this.props.aspectRatio,t={};if(e){var n=e.split(":"),o=n[0];t={position:"relative",height:0,paddingBottom:n[1]/o*100+"%"}}return s.createElement(z,V({},this.props,{style:t}))},t}(t.Component);K.defaultProps={aspectRatio:"16:9",loop:!1,play:!1,time:0,volume:1,onEnded:function(){},onError:function(){},onPause:function(){},onPlay:function(){},onReady:function(){},onTimeUpdate:function(){},onVolumeChange:function(){}};var H=U(K);e.VideoPlayer=W,e.VimeoPlayer=Y,e.YouTubePlayer=H,e.playerController=U,Object.defineProperty(e,"__esModule",{value:!0})});
